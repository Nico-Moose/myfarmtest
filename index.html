<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ú–∏–Ω–∏-–§–µ—Ä–º–∞ WizeBot</title>
  <style>
    body { font-family: sans-serif; padding: 30px; background: #f2f2f2; }
    .box { background: #fff; border-radius: 12px; box-shadow: 0 2px 8px #0002; padding: 24px; max-width: 400px; margin: 0 auto; }
    button { font-size: 1.2em; padding: 12px 24px; margin-top: 16px; }
    #result { margin-top: 16px; font-weight: bold; }
  </style>
</head>
<body>
  <div class="box">
    <h2>–¢–≤–æ—è –º–∏–Ω–∏-—Ñ–µ—Ä–º–∞ üßë‚Äçüåæ</h2>
    <label>
      –ù–∏–∫ Twitch:
      <input type="text" id="twitchName" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π Twitch –Ω–∏–∫">
    </label>
    <br><br>
    <button id="collectBtn">–°–æ–±—Ä–∞—Ç—å —É—Ä–æ–∂–∞–π (+100 –º–æ–Ω–µ—Ç)</button>
    <div id="result"></div>
  </div>

  <script>
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
    const REWARD = 100;             // —Å–∫–æ–ª—å–∫–æ –º–æ–Ω–µ—Ç –≤—ã–¥–∞—ë–º –∑–∞ —Å–±–æ—Ä
    const COOLDOWN = 30 * 1000;     // 30 —Å–µ–∫—É–Ω–¥ (—Ç–∞–π–º–µ—Ä –º–µ–∂–¥—É —Å–±–æ—Ä–∞–º–∏)
    const SECRET_TOKEN = "mytoken"; // –ø—Ä–æ—Å—Ç–æ–π "—Å–µ–∫—Ä–µ—Ç" –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

    let lastCollectTime = 0;

    document.getElementById('collectBtn').onclick = async function() {
      const twitchName = document.getElementById('twitchName').value.trim();
      if (!twitchName) {
        document.getElementById('result').innerText = '–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π Twitch –Ω–∏–∫!';
        return;
      }

      // –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫—É–ª–¥–∞—É–Ω–∞
      const now = Date.now();
      if (now - lastCollectTime < COOLDOWN) {
        document.getElementById('result').innerText = `–ü–æ–¥–æ–∂–¥–∏ –µ—â—ë ${Math.ceil((COOLDOWN - (now - lastCollectTime))/1000)} —Å–µ–∫.`;
        return;
      }

      // –ó–∞–ø—Ä–æ—Å –∫ WizeBot (–∑–∞–º–µ–Ω–∏ YOUR_WIZEBOT_COMMAND –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã)
      // –ü—Ä–∏–º–µ—Ä: !farmreward [–Ω–∏–∫] [—Å—É–º–º–∞] [—Ç–æ–∫–µ–Ω]
      const url = `https://wizebot.tv/api/commands/YOUR_WIZEBOT_COMMAND?args=${encodeURIComponent(twitchName)}%20${REWARD}%20${SECRET_TOKEN}`;
      try {
        // –¢—É—Ç –≤–º–µ—Å—Ç–æ fetch –¥–µ–ª–∞–µ–º –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º –≤—ã–∑–≤–∞–ª –∫–æ–º–∞–Ω–¥—É (WizeBot –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ fetch —Å —Å–∞–π—Ç–∞)
        window.open(url, '_blank');
        document.getElementById('result').innerText = '–ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –ü—Ä–æ–≤–µ—Ä—å —á–∞—Ç –Ω–∞ Twitch!';
        lastCollectTime = now;
      } catch (err) {
        document.getElementById('result').innerText = '–û—à–∏–±–∫–∞! –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑.';
      }
    };
  </script>
</body>
</html>
